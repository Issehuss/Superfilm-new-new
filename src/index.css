/* src/index.css */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ───────────────────────── Base vars & utilities ───────────────────────── */

a,
a:hover,
a:focus {
  text-decoration: none;
  color: #ffffff;
}

a:visited {
  color: #ffffff;
}

/* Keep header nav links white (override global link colour) */
header nav a,
header nav a:visited,
header nav a:hover,
header nav a:focus {
  color: #ffffff !important;
}

/* Force all yellow-accent text to render white sitewide */
[class*="text-yellow-"],
[class*="text-superfilm-yellow"],
[class*="text-[rgb(var(--brand-yellow))]"] {
  color: #ffffff !important;
}

:root {
  /* Fallback edge color for very wide screens */
  --site-bg-edge: #0a0a0a;

  /* Theme variable fallbacks (overridden per profile via getThemeVars) */
  --sf-accent: #FACC15;
  --sf-card-bg: rgba(24,24,27,0.6);
  --sf-outline: rgba(255,255,255,0.06);
  --sf-glow-from: rgba(250,204,21,0.18);
  --sf-glow-to: rgba(250,204,21,0.02);
  --sf-radius: 16px;

  /* Engrave overlay defaults.
     IMPORTANT: store the path as a PLAIN STRING, not url(...).
     We wrap it with url() where it’s used, so bundlers don’t try to import it. */
  --sf-engrave-url: "none";
  --sf-engrave-opacity: .12;
}

/* Optional: scope theme styling under a wrapper */
.sf-theme { color-scheme: dark; }

/* Hide scrollbars for clean scroll rows */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
.hide-scrollbar::-webkit-scrollbar { display: none; }

/* ───────────────────────── Signup helpers ───────────────────────── */
.signup-age-note {
  font-size: 12px;
  opacity: 0.7;
  margin-top: 4px;
}

.signup-error {
  color: #ff4d4f;
  font-size: 13px;
  margin-top: 6px;
}

/* 3D helpers for flip cards (TasteCard) */
.perspective { perspective: 1000px; }
.transform-style-preserve-3d { transform-style: preserve-3d; }
.backface-hidden { backface-visibility: hidden; }
.rotate-y-180 { transform: rotateY(180deg); }

/* ───────────────────────── Chat teaser effects ───────────────────────── */

/* “F1 car around the track” border runner */
.chat-race-track {
  position: relative;
  border-radius: 22px;
  isolation: isolate;
}
.chat-race-track::before {
  content: "";
  position: absolute; inset: 0;
  border-radius: inherit;
  border: 2px solid transparent;
  background: linear-gradient(90deg, transparent 40%, #fde047 50%, transparent 60%) border-box;
  -webkit-mask: linear-gradient(#000 0 0) padding-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  animation: chat-car-loop 4s linear infinite;
}
@keyframes chat-car-loop {
  0%   { background-position: 0%   0%; }
  25%  { background-position: 100% 0%; }
  50%  { background-position: 100% 100%; }
  75%  { background-position: 0%   100%; }
  100% { background-position: 0%   0%; }
}

/* Moving conic arc with soft glow (pair with rounded-3xl) */
.chat-teaser {
  --arc-deg: 22deg;    /* arc length */
  --speed: 4s;         /* lap time */
  --start: 0deg;       /* animated by keyframes */
  position: relative;
}
.chat-teaser::before {
  content: "";
  position: absolute; inset: -1px;
  padding: 1px;
  border-radius: 1.5rem;
  background: conic-gradient(from var(--start),
    rgba(250, 204, 21, 1) 0 var(--arc-deg),
    transparent var(--arc-deg) 360deg);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  animation: chatArcSpin var(--speed) linear infinite;
}
.chat-teaser .glow-mask {
  border-radius: 1.5rem;
  background: conic-gradient(from var(--start),
    rgba(250, 204, 21, .35) 0 var(--arc-deg),
    transparent var(--arc-deg) 360deg);
  filter: blur(10px);
  animation: chatArcSpin var(--speed) linear infinite;
  opacity: .75;
}
@keyframes chatArcSpin { to { --start: 360deg; } }

/* ───────────────────────── Themed cards & outlines ───────────────────────── */

.themed-card {
  position: relative;
  border-radius: var(--sf-radius);
  background: var(--sf-card-bg);
  box-shadow: 0 0 0 1px var(--sf-outline);
}

/* Stronger gradient ring + subtle inner bevel */
.themed-outline.forge::before {
  content: "";
  position: absolute; inset: -2px;
  border-radius: inherit;
  padding: 2px; /* outline width */
  background: linear-gradient(135deg, var(--sf-glow-from), var(--sf-glow-to));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events: none;
}
.themed-outline.forge::after {
  content: "";
  position: absolute; inset: 0;
  border-radius: inherit;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.08),
    inset 0 -8px 24px rgba(0,0,0,.45);
  pointer-events: none;
}




/* Optional per-theme intensity nudges */
.sf-theme[data-theme="neon-nights"] .taste-card.engraved::before { opacity: .18; }
.sf-theme[data-theme="golden-noir"]  .taste-card.engraved::before { opacity: .15; }

/* TMDB attribution badge for TMDB-hosted imagery */
.tmdb-credit::after {
  content: "TMDB";
  position: absolute;
  right: 6px;
  bottom: 6px;
  font-size: 10px;
  letter-spacing: 0.02em;
  color: rgba(255, 255, 255, 0.85);
  background: rgba(0, 0, 0, 0.65);
  padding: 2px 6px;
  border-radius: 9999px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(2px);
  pointer-events: none;
  z-index: 2;
}
